<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Cadastro de Usuário</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>



<main class="funcBody">
    <img th:src="@{/images/CareerUp-Logo.png}" alt="CareerUp logo" style="height: 14em;display: flex;align-items: center;">
    <H1 class="" style="padding-bottom: 2em">CareerUp</H1>
    <h1>Cadastrar Usuário</h1>

    <div class="card" style="width: 450px;">

        <form th:action="@{/usuario/salvar}" th:object="${usuario}" method="post" class="form">

            <div class="field">
                <label for="nomeUsuario">Nome</label>
                <input type="text" id="nomeUsuario" th:field="*{nomeUsuario}" maxlength="150" required />
            </div>

            <div class="field">
                <label for="cpf">CPF</label>
                <input type="text" id="cpf" th:field="*{cpf}" maxlength="20" required />
            </div>

            <div class="field">
                <label for="email">email</label>
                <input type="text" id="email" th:field="*{email}" maxlength="100" required />
            </div>

            <div class="field">
                <label for="cargo">Cargo</label>
                <input type="text" id="cargo" th:field="*{cargo}" maxlength="50" required />
            </div>

            <p style="font-style: italic; color: gray;">
                *Este campo só está disponível por ser uma versão demo.
                Em produção, apenas administradores podem cadastrar gerentes.
            </p>

            <div class="field">
                <label for="papel">Papel</label>
                <select id="papel" th:field="*{papel}">
                    <option th:value="USUARIO">Usuário</option>
                    <option th:value="GERENTE">Gerente</option>
                </select>
            </div>

            <div class="field">
                <label for="login">Login</label>
                <input type="text" id="login" th:field="*{loginUsuario.login}" required />
            </div>

            <div class="field">
                <label for="senha">Senha</label>
                <input type="password" id="senha" th:field="*{loginUsuario.senha}" required />
            </div>

            <div class="field">
                <label for="habilidadePrimaria">Habilidade Primária</label>
                <input type="text" id="habilidadePrimaria" th:field="*{habilidades.habilidadePrimaria}" required />
            </div>

            <div class="field">
                <label for="habilidadeSecundaria">Habilidade Secundária</label>
                <input type="text" id="habilidadeSecundaria" th:field="*{habilidades.habilidadeSecundaria}" />
            </div>

            <div class="field">
                <label for="habilidadeTerciaria">Habilidade Terciária</label>
                <input type="text" id="habilidadeTerciaria" th:field="*{habilidades.habilidadeTerciaria}" />
            </div>

            <div class="actions">
                <button type="submit" class="btn-primary">Cadastrar</button>
            </div>
        </form>

    </div>
    <p>Já tem uma conta ? <a th:href="@{/login}"><strong>Logar-se</strong></a></p>
    <div th:if="${cadastroSucesso}">
        <div id="modal" class="modal">
            <div class="modal-content">
                <h2>✅ Cadastro realizado com sucesso!</h2>
                <p>Agora você já pode fazer login na plataforma.</p>
                <button onclick="fecharModal()">Fechar</button>
            </div>
        </div>
    </div>

</main>
<script>
    function fecharModal() {
        document.getElementById('modal').style.display = 'none';
    }
</script>
<div th:replace="fragments/footer :: footerFragment"></div>
</body>
</html>
